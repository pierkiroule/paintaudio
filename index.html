<!doctype html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>Sumi 3D â€“ A-Frame</title>

  <link rel="stylesheet" href="/src/style.css" />
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script type="module" src="/src/app.js"></script>
</head>

<body>
  <div id="ui">
    <button id="micBtn">ğŸ¤ MICRO</button>
    <button id="autoBtn">AUTO:ON</button>
  </div>
  <button id="viewToggle" class="view-toggle" aria-label="Basculer la vue">ğŸ‘</button>
  <div id="status">mic:off</div>

  <a-scene
    background="color: #f2f0eb"
    vr-mode-ui="enabled: true"
    device-orientation-permission-ui="enabled: true"
    renderer="antialias: true; colorManagement: true;"
    view-switch
  >
    <!-- lumiÃ¨re douce -->
    <a-entity light="type: ambient; intensity: 0.9"></a-entity>

    <!-- monde -->
    <a-entity id="world"></a-entity>

    <!-- camÃ©ra / pinceau -->
    <a-entity id="rig" brush-rig position="0 1.6 3.2">
      <a-camera
        id="drawCam"
        camera="active: true"
        wasd-controls-enabled="false"
        look-controls="enabled: false"
        fov="62"
      >
        <!-- repÃ¨re discret du point de dessin -->
        <a-entity
          id="drawCursor"
          geometry="primitive: sphere; radius: 0.04"
          material="color: #111; opacity: 0.15; transparent: true; depthWrite: false"
          position="0 0 -1.1"
          visible="false"
        ></a-entity>
      </a-camera>
    </a-entity>

    <a-entity id="previewRig" position="0 1.6 5" tpv-controls>
      <a-camera
        id="previewCam"
        camera="active: false"
        look-controls="enabled: true; mouseEnabled: false; touchEnabled: false; magicWindowTrackingEnabled: true"
      ></a-camera>
    </a-entity>
  </a-scene>
</body>
</html>
